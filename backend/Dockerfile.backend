create go.sum
RUN go mod tidy
Copy the source code
COPY *.go ./
Build the application
RUN CGO_ENABLED=0 GOOS=linux go build -o main .
Use a minimal alpine image for the final stage
FROM alpine:3.18
Install necessary runtime dependencies
RUN apk --no-cache add ca-certificates
WORKDIR /app
Copy the binary from the builder stage
COPY --from=builder /app/main .
Expose port 8080
EXPOSE 8080
Command to run the executable
CMD ["./main"]